<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="900px" preserveAspectRatio="none" style="width:390px;height:900px;" version="1.1" viewBox="0 0 390 900" width="390px" zoomAndPan="magnify"><defs><filter height="300%" id="fjmvqf6fkytv2" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#fjmvqf6fkytv2)" height="56.412" style="stroke:#000000;stroke-width:2.0;" width="230" x="14" y="336.4221"/><rect fill="#FFFFFF" filter="url(#fjmvqf6fkytv2)" height="302.336" style="stroke:#000000;stroke-width:2.0;" width="360" x="14" y="405.8341"/><rect fill="#FFFFFF" height="48.6879" style="stroke:none;stroke-width:1.0;" width="360" x="14" y="659.4822"/><rect fill="#FFFFFF" filter="url(#fjmvqf6fkytv2)" height="69.412" style="stroke:#000000;stroke-width:2.0;" width="227" x="14" y="721.1701"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="30" x2="30" y1="43.0679" y2="809.5822"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="222" x2="222" y1="43.0679" y2="809.5822"/><rect fill="#FEFECE" filter="url(#fjmvqf6fkytv2)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="46" x="5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="12" y="26.9659">Alice</text><rect fill="#FEFECE" filter="url(#fjmvqf6fkytv2)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="40" x="200" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="26" x="207" y="26.9659">Bob</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="30" x2="72" y1="74.7739" y2="74.7739"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="72" x2="72" y1="74.7739" y2="87.7739"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="31" x2="72" y1="87.7739" y2="87.7739"/><polygon fill="#0000FF" points="41,83.7739,31,87.7739,41,91.7739,37,87.7739" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="133" x="37" y="68.9649">User proposes update</text><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="72" y1="154.892" y2="154.892"/><line style="stroke:#A80036;stroke-width:1.0;" x1="72" x2="72" y1="154.892" y2="167.892"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="72" y1="167.892" y2="167.892"/><polygon fill="#A80036" points="41,163.892,31,167.892,41,171.892,37,167.892" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="160" x="37" y="113.6709">Generate an updated state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="178" x="37" y="131.377">(modify balances and/or data;</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="112" x="37" y="149.083">increment version)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="72" y1="199.598" y2="199.598"/><line style="stroke:#A80036;stroke-width:1.0;" x1="72" x2="72" y1="199.598" y2="212.598"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="72" y1="212.598" y2="212.598"/><polygon fill="#A80036" points="41,208.598,31,212.598,41,216.598,37,212.598" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="116" x="37" y="193.789">Sign updated state.</text><polygon fill="#A80036" points="210,258.01,220,262.01,210,266.01,214,262.01" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="216" y1="262.01" y2="262.01"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="115" x="68.5" y="238.495">Updated state with</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="89" x="81.5" y="256.201">alice signature.</text><line style="stroke:#0000FF;stroke-width:1.0;" x1="222" x2="264" y1="311.4221" y2="311.4221"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="264" x2="264" y1="311.4221" y2="324.4221"/><line style="stroke:#0000FF;stroke-width:1.0;" x1="223" x2="264" y1="324.4221" y2="324.4221"/><polygon fill="#0000FF" points="233,320.4221,223,324.4221,233,328.4221,229,324.4221" style="stroke:#0000FF;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="229" y="287.907">User chooses to</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="229" y="305.6131">accept/reject</text><path d="M14,336.4221 L81,336.4221 L81,345.4221 L71,355.4221 L14,355.4221 L14,336.4221 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="56.412" style="stroke:#000000;stroke-width:2.0;" width="230" x="14" y="336.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="29" y="351.3191">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="132" x="96" y="350.181">[if user did not respond]</text><polygon fill="#A80036" points="41,380.8341,31,384.8341,41,388.8341,37,384.8341" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="221" y1="384.8341" y2="384.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="108" y="379.0251">Reject</text><path d="M14,405.8341 L81,405.8341 L81,414.8341 L71,424.8341 L14,424.8341 L14,405.8341 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="302.336" style="stroke:#000000;stroke-width:2.0;" width="360" x="14" y="405.8341"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="29" y="420.7311">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="96" y="419.593">[if accept]</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="14" x2="374" y1="660.4822" y2="660.4822"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="19" y="672.2411">[if reject]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="222" x2="264" y1="454.2461" y2="454.2461"/><line style="stroke:#A80036;stroke-width:1.0;" x1="264" x2="264" y1="454.2461" y2="467.2461"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="264" y1="467.2461" y2="467.2461"/><polygon fill="#A80036" points="233,463.2461,223,467.2461,233,471.2461,229,467.2461" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="229" y="448.4371">Sign updated state</text><line style="stroke:#A80036;stroke-width:1.0;" x1="222" x2="264" y1="516.6582" y2="516.6582"/><line style="stroke:#A80036;stroke-width:1.0;" x1="264" x2="264" y1="516.6582" y2="529.6582"/><line style="stroke:#A80036;stroke-width:1.0;" x1="223" x2="264" y1="529.6582" y2="529.6582"/><polygon fill="#A80036" points="233,525.6582,223,529.6582,233,533.6582,229,529.6582" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="229" y="493.1431">Store updated state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="229" y="510.8492">with all signatures.</text><polygon fill="#A80036" points="41,575.0702,31,579.0702,41,583.0702,37,579.0702" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="221" y1="579.0702" y2="579.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="84" y="555.5552">Bob signature</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="140" x="56" y="573.2612">over the updated state.</text><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="72" y1="628.4822" y2="628.4822"/><line style="stroke:#A80036;stroke-width:1.0;" x1="72" x2="72" y1="628.4822" y2="641.4822"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="72" y1="641.4822" y2="641.4822"/><polygon fill="#A80036" points="41,637.4822,31,641.4822,41,645.4822,37,641.4822" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="119" x="37" y="604.9672">Store updated state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="111" x="37" y="622.6732">with all signatures.</text><polygon fill="#A80036" points="41,696.1701,31,700.1701,41,704.1701,37,700.1701" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="221" y1="700.1701" y2="700.1701"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="108" y="694.3611">Reject</text><path d="M14,721.1701 L81,721.1701 L81,730.1701 L71,740.1701 L14,740.1701 L14,721.1701 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="69.412" style="stroke:#000000;stroke-width:2.0;" width="227" x="14" y="721.1701"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="29" y="736.0671">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="96" y="734.929">[if bob did not respond]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="30" x2="72" y1="769.5822" y2="769.5822"/><line style="stroke:#A80036;stroke-width:1.0;" x1="72" x2="72" y1="769.5822" y2="782.5822"/><line style="stroke:#A80036;stroke-width:1.0;" x1="31" x2="72" y1="782.5822" y2="782.5822"/><polygon fill="#A80036" points="41,778.5822,31,782.5822,41,786.5822,37,782.5822" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="98" x="37" y="763.7732">Treat as rejected</text><rect fill="#DDDDDD" height="67.2038" rx="5" ry="5" style="stroke:#000000;stroke-width:1.0;" width="201" x="173" y="817.5822"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="38" x="179" y="837.5481">Note:</text><text fill="#0000FF" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="30" x="179" y="856.616">Blue</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="104" x="217" y="856.616">arrow indicates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="189" x="179" y="875.6839">user interaction is required.</text><!--MD5=[4b423e483d7384d48661baa285459a2d]
@startuml transact_generic
!pragma teoz true
hide footbox
skinparam SequenceMessageAlign center

participant "Alice" as alice
participant "Bob" as bob

alice -[#blue]> alice: User proposes update
alice -> alice: Generate an updated state\n(modify balances and/or data;\nincrement version)
alice -> alice: Sign updated state.
alice -> bob: Updated state with\nalice signature.
bob -[#blue]> bob: User chooses to\naccept/reject
opt if user did not respond
alice <- bob: Reject
end
opt if accept 
bob -> bob: Sign updated state
bob -> bob: Store updated state \nwith all signatures.
alice <- bob: Bob signature\nover the updated state.
alice -> alice: Store updated state \nwith all signatures.
else if reject
alice <- bob: Reject
end
opt if bob did not respond
alice -> alice: Treat as rejected
end

legend bottom right
<b>Note:</b>
<color:blue>Blue </color> arrow indicates
user interaction is required.
endlegend

@enduml

PlantUML version 1.2020.21(Mon Nov 30 17:40:11 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: IN
--></g></svg>